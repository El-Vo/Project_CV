<!doctype html>
<html class="d-flex vh-100" data-bs-theme="light" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
    />
    <title>Project_CV</title>
    <link
      rel="apple-touch-icon"
      type="image/png"
      sizes="180x180"
      href="assets/img/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="assets/img/favicon-16x16.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="assets/img/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="180x180"
      href="assets/img/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="assets/img/android-chrome-192x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="512x512"
      href="assets/img/android-chrome-512x512.png"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>

  <body class="d-flex flex-grow-1">
    <main
      class="d-flex flex-grow-1 justify-content-center align-items-end w-100 h-100"
    >
      <div class="video-container">
        <video id="webcam" autoplay playsinline muted></video>
        <canvas id="depth-canvas"></canvas>
        <canvas id="detection-canvas"></canvas>
      </div>

      <canvas id="capture-canvas" style="display: none"></canvas>

      <div id="overlay">
        Rel. Distance: <span id="distance">--</span><br />
        <div
          id="metrics-display"
          style="text-align: left; margin-top: 5px"
        ></div>
      </div>

      <div class="card w-100" id="controls-bottom">
        <div class="card-body d-flex w-100 flex-column gap-2">
          <h4 class="d-flex justify-content-center align-items-end card-title">
            Enter an object you are looking for:
          </h4>
          <h6 class="text-muted card-subtitle mb-2">
            Object tracking initiates automatically. Once the object name is
            entered, begin panning the camera slowly.
          </h6>
          <input
            id="promptInput"
            class="form-control-lg d-flex"
            type="text"
            placeholder="Keys, glasses, ..."
          /><a
            class="btn btn-outline-secondary btn-lg"
            role="button"
            href="index.html"
            >Back</a
          >
        </div>
      </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://docs.opencv.org/4.5.4/opencv.js"></script>
    <script type="module">
      import { DetectionGenericLoop } from "./src/detectionGenericLoop.js";
      window.onload = () => {
        const loopHandler = new DetectionGenericLoop();
        loopHandler.loop();
      };
    </script>
  </body>
</html>
